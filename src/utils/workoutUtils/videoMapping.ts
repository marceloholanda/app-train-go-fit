
/**
 * Mapeamento de nomes de exercícios para URLs de vídeo do Vimeo
 */
export const exerciseVideoMap: Record<string, string> = {
  "abdominal bicicleta": "https://vimeo.com/570418723",
  "abdominal completo": "https://vimeo.com/458656744",
  "abdominal curto": "https://vimeo.com/562033518",
  "abdominal infra": "https://vimeo.com/559136942",
  "abdução de quadril": "https://vimeo.com/1007396947",
  "afundo": "https://vimeo.com/591087584",
  "afundo andando": "https://vimeo.com/591087584",
  "afundo búlgaro": "https://vimeo.com/716855850",
  "afundo com salto": "https://vimeo.com/1070471830",
  "afundo estático": "https://vimeo.com/1077938106",
  "agachamento búlgaro": "https://vimeo.com/471440654",
  "agachamento com salto": "https://vimeo.com/482899311",
  "agachamento livre": "https://vimeo.com/560469740",
  "agachamento na parede": "https://vimeo.com/458732080",
  "agachamento smith": "https://vimeo.com/1074491796",
  "agachamento sumô": "https://vimeo.com/569024196",
  "alongamento de isquiotibiais": "https://vimeo.com/576475475",
  "alongamento de ombros": "https://vimeo.com/585565189",
  "alongamento dinâmico": "https://vimeo.com/463450280",
  "aquecimento dinâmico": "https://vimeo.com/358550035",
  "australian pull-up": "https://vimeo.com/539951634",
  "bicicleta ergométrica": "https://vimeo.com/1049763887",
  "burpee": "https://vimeo.com/560258550",
  "cadeira extensora": "https://vimeo.com/245040059",
  "cadeira flexora": "https://vimeo.com/245040184",
  "crucifixo": "https://vimeo.com/716857575",
  "crucifixo máquina": "https://vimeo.com/494208405",
  "crucifixo na máquina": "https://vimeo.com/563388808",
  "crunch abdominal": "https://vimeo.com/458656869",
  "desenvolvimento com halteres": "https://vimeo.com/716846478",
  "desenvolvimento máquina": "https://vimeo.com/1037196793",
  "dips em cadeira": "https://www.youtube.com/watch?v=HCf97NPYeGY",
  "dragon flag": "https://vimeo.com/602438981",
  "elevação de calcanhar": "https://vimeo.com/439121024",
  "elevação de panturrilha": "https://vimeo.com/1051293037",
  "elevação de pernas": "https://vimeo.com/262269915",
  "elevação frontal": "https://vimeo.com/245013621",
  "elevação lateral": "https://vimeo.com/245016384",
  "elevação lateral de braços": "https://vimeo.com/563390751",
  "elevação pélvica": "https://vimeo.com/716853044",
  "escalador": "https://vimeo.com/377381159",
  "flexão archer": "https://vimeo.com/1049842087",
  "flexão com apoio elevado": "https://vimeo.com/249714023",
  "flexão com palma": "https://www.youtube.com/watch?v=aEk3DDFnDuw",
  "flexão de braço": "https://vimeo.com/467746018",
  "flexão de braço no banco": "https://www.youtube.com/watch?v=lZC8ak-axMM",
  "flexão de braço no joelho": "https://vimeo.com/554854721",
  "flexão declinada": "https://vimeo.com/1049842045",
  "flexão hindu": "https://vimeo.com/1049852404",
  "flexão na parede": "https://vimeo.com/569185083",
  "flexões diamante": "https://vimeo.com/560258760",
  "handstand push-up na parede": "https://www.youtube.com/watch?v=XckEEwa1BPI",
  "hollow hold": "https://vimeo.com/509676778",
  "jump lunge": "https://vimeo.com/632075887",
  "jump squat": "https://vimeo.com/632054119",
  "jumping jacks": "https://vimeo.com/632072662",
  "leg press 45°": "https://vimeo.com/245040473",
  "l-sit": "https://vimeo.com/280927636",
  "marcha estacionária": "https://vimeo.com/358358998",
  "mergulho em barras": "https://vimeo.com/526713591",
  "muscle-up": "https://vimeo.com/378341589",
  "panturrilha em pé": "https://vimeo.com/930015504",
  "pistol squat": "https://vimeo.com/632076113",
  "pistol squat assistido": "https://www.youtube.com/shorts/q5sbqedk5tc",
  "ponte de glúteos": "https://vimeo.com/1083372695",
  "ponte de glúteos com elevação de perna": "https://vimeo.com/1012863371",
  "prancha": "https://vimeo.com/632100404",
  "prancha com drag": "https://www.youtube.com/watch?v=h9zFpnekbno",
  "prancha com elevação": "https://vimeo.com/1051272566",
  "prancha com rotação": "https://vimeo.com/230172936",
  "prancha com shoulder tap": "https://www.youtube.com/watch?v=GhmPoVjTVxE",
  "prancha frontal": "https://vimeo.com/552009193",
  "prancha lateral": "https://vimeo.com/632099916",
  "prancha no joelho": "https://vimeo.com/632095004",
  "pseudo planche push-up": "https://vimeo.com/498733989",
  "pull-up": "https://vimeo.com/377617573",
  "pull-up (barra fixa)": "https://vimeo.com/377617573",
  "pull-up negativa": "https://www.youtube.com/watch?v=EkpJkHpJXmM",
  "push-up plus": "https://vimeo.com/52085187",
  "puxada aberta": "https://vimeo.com/245029417",
  "puxada alta": "https://vimeo.com/564002269",
  "puxada frontal": "https://vimeo.com/564002244",
  "remada baixa": "https://vimeo.com/246101857",
  "remada cavalinho": "https://vimeo.com/1078524727",
  "remada curvada": "https://vimeo.com/568614325",
  "remada em pé com elástico": "https://www.youtube.com/watch?v=voynCSavKak",
  "remada invertida": "https://vimeo.com/1049014738",
  "remada sentada": "https://vimeo.com/1049008940",
  "remada unilateral com haltere": "https://vimeo.com/716848538",
  "rosca alternada com halteres": "https://vimeo.com/568553892",
  "rosca direta": "https://vimeo.com/716857833",
  "rosca direta com barra": "https://vimeo.com/568614676",
  "rosca scott": "https://vimeo.com/490845185",
  "rotação de tronco": "https://vimeo.com/463450105",
  "russian twist": "https://vimeo.com/568553051",
  "salto em caixa ou banco": "https://www.youtube.com/watch?v=5gORKX-qPEI",
  "stiff": "https://vimeo.com/568613698",
  "superman": "https://vimeo.com/482900765",
  "supino inclinado com halteres": "https://vimeo.com/568553375",
  "supino máquina": "https://vimeo.com/564013235",
  "supino reto": "https://vimeo.com/552015637",
  "supino reto com barra": "https://vimeo.com/245918308",
  "supino sentado": "https://vimeo.com/915604101",
  "tríceps corda": "https://vimeo.com/564013337",
  "tríceps francês": "https://vimeo.com/568552938",
  "tríceps mergulho": "https://vimeo.com/1050864289",
  "tríceps no banco": "https://vimeo.com/569185444"
};

/**
 * Obtém o URL do vídeo para um exercício específico
 * @param exerciseName Nome do exercício
 * @returns URL do vídeo ou undefined se não existir
 */
export const getExerciseVideoUrl = (exerciseName: string): string | undefined => {
  const normalizedName = exerciseName.toLowerCase().trim();
  return exerciseVideoMap[normalizedName];
};

/**
 * Converte URLs do YouTube para formato incorporável
 * @param url URL do vídeo (YouTube ou Vimeo)
 * @returns URL formatado para incorporação
 */
export const formatVideoUrlForEmbed = (url: string): string => {
  if (!url) return '';
  
  // Converte URLs do YouTube para formato embed
  if (url.includes('youtube.com/watch')) {
    const videoId = new URL(url).searchParams.get('v');
    if (videoId) return `https://www.youtube.com/embed/${videoId}`;
  }
  
  // Converte URLs do YouTube Shorts
  if (url.includes('youtube.com/shorts/')) {
    const videoId = url.split('shorts/')[1].split('?')[0];
    if (videoId) return `https://www.youtube.com/embed/${videoId}`;
  }
  
  // Para URLs do Vimeo
  if (url.includes('vimeo.com') && !url.includes('player.vimeo.com')) {
    const vimeoId = url.split('vimeo.com/')[1];
    if (vimeoId) return `https://player.vimeo.com/video/${vimeoId}`;
  }
  
  return url;
};
